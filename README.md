# æ™ºèƒ½è®°è´¦å®¢æˆ·ç«¯

ä¸€ä¸ªç®€æ´é«˜æ•ˆçš„æ¡Œé¢è®°è´¦åº”ç”¨ï¼Œå…·æœ‰å®Œæ•´çš„è´¢åŠ¡è®°å½•ç®¡ç†ã€æ•°æ®åˆ†æå’Œå¯è§†åŒ–åŠŸèƒ½ã€‚

## ğŸš€ ç³»ç»Ÿç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ** - æ³¨å†Œã€ç™»å½•ã€ä¼šè¯ç®¡ç†
- âœ… **è´¢åŠ¡è®°å½•ç®¡ç†** - æ”¶å…¥/æ”¯å‡ºè®°å½•æ·»åŠ ã€æŸ¥çœ‹ã€åˆ é™¤
- âœ… **æ•°æ®ç»Ÿè®¡åˆ†æ** - æœˆåº¦/å¹´åº¦æ•°æ®æ±‡æ€»ã€åˆ†ç±»åˆ†æ
- âœ… **å¯è§†åŒ–å›¾è¡¨å±•ç¤º** - ä½¿ç”¨EChartså±•ç¤ºè´¢åŠ¡æ•°æ®å›¾è¡¨
- âœ… **å®æ—¶æ•°æ®æ›´æ–°** - è‡ªåŠ¨åˆ·æ–°å’Œå®æ—¶æ•°æ®å±•ç¤º

### æŠ€æœ¯ç‰¹æ€§
- **æ¡Œé¢åº”ç”¨** - åŸºäºFlaskçš„æ¡Œé¢å®¢æˆ·ç«¯
- **SQLiteæ•°æ®åº“** - è½»é‡çº§æœ¬åœ°æ•°æ®å­˜å‚¨
- **å“åº”å¼è®¾è®¡** - æ”¯æŒPCå’Œç§»åŠ¨ç«¯è®¿é—®
- **æ•°æ®å®‰å…¨** - å¯†ç å“ˆå¸ŒåŠ å¯†ã€ä¼šè¯ç®¡ç†

## ğŸ“ é¡¹ç›®ç»“æ„

```
Finance/
â”œâ”€â”€ backend_api.py          # åç«¯APIæœåŠ¡
â”œâ”€â”€ simple_desktop_client.py # æ¡Œé¢å®¢æˆ·ç«¯ä¸»ç¨‹åº
â”œâ”€â”€ start_client.py         # å¯åŠ¨å™¨è„šæœ¬
â”œâ”€â”€ start_system.py         # ç³»ç»Ÿå¯åŠ¨è„šæœ¬
â”œâ”€â”€ build_client.py         # æ‰“åŒ…å·¥å…·
â”œâ”€â”€ æ™ºèƒ½è®°è´¦å®¢æˆ·ç«¯.spec      # PyInstalleræ‰“åŒ…é…ç½®
â”œâ”€â”€ install.bat            # Windowså®‰è£…è„šæœ¬
â”œâ”€â”€ ä½¿ç”¨è¯´æ˜.txt            # ç”¨æˆ·ä½¿ç”¨è¯´æ˜
â”œâ”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ finance_system.db      # æ•°æ®åº“æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â””â”€â”€ templates/             # HTMLæ¨¡æ¿
    â”œâ”€â”€ login.html         # ç™»å½•é¡µé¢
    â”œâ”€â”€ register.html      # æ³¨å†Œé¡µé¢
    â”œâ”€â”€ dashboard.html     # ä»ªè¡¨æ¿é¡µé¢
    â””â”€â”€ reports.html       # æŠ¥å‘Šåˆ†æé¡µé¢
```

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.7+
- Flask
- sqlite3 (Pythonå†…ç½®)

### å®‰è£…ä¾èµ–
```bash
pip install flask
```

### å¯åŠ¨ç³»ç»Ÿ
```bash
cd Finance
python start_client.py
```

### è®¿é—®ç³»ç»Ÿ
- **æ¡Œé¢å®¢æˆ·ç«¯**: http://127.0.0.1:5000

### æµ‹è¯•è´¦å·
- ç”¨æˆ·å: `testuser`
- å¯†ç : `test123`

## ğŸ“Š ç³»ç»Ÿæ¶æ„

### åç«¯æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Webåº”ç”¨       â”‚    â”‚   åç«¯API       â”‚    â”‚   æ•°æ®åº“        â”‚
â”‚  (ç«¯å£:5000)    â”‚â—„â”€â”€â–ºâ”‚   (ç«¯å£:5001)   â”‚â—„â”€â”€â–ºâ”‚   SQLite        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®åº“è®¾è®¡
```sql
-- ç”¨æˆ·è¡¨
users (id, username, password_hash, email, created_at, last_login, sync_token)

-- è´¢åŠ¡è®°å½•è¡¨  
finance_records (id, user_id, amount, category, record_type, description, record_date, created_at, updated_at, sync_id)

-- åŒæ­¥è®°å½•è¡¨
sync_records (id, user_id, device_id, last_sync_time, sync_count)

-- æŠ¥å‘Šè¡¨
reports (id, user_id, report_type, period, title, content, generated_at)

-- åˆ†ææ•°æ®è¡¨
analysis_data (id, user_id, data_type, period, data_content, created_at)
```

## ğŸ”§ APIæ¥å£æ–‡æ¡£

### ç”¨æˆ·è®¤è¯
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•  
- `POST /api/auth/logout` - ç”¨æˆ·ç™»å‡º
- `GET /api/auth/status` - è®¤è¯çŠ¶æ€

### è´¢åŠ¡è®°å½•
- `GET /api/records` - è·å–è®°å½•åˆ—è¡¨
- `POST /api/records` - æ·»åŠ æ–°è®°å½•
- `DELETE /api/records/{id}` - åˆ é™¤è®°å½•

### æ•°æ®ç»Ÿè®¡
- `GET /api/summary` - è·å–æ±‡æ€»æ•°æ®
- `GET /api/monthly-data` - è·å–æœˆåº¦æ•°æ®
- `GET /api/categories` - è·å–åˆ†ç±»åˆ—è¡¨

### æŠ¥å‘Šç”Ÿæˆ
- `POST /api/reports/monthly` - ç”Ÿæˆæœˆåº¦æŠ¥å‘Š
- `POST /api/reports/yearly` - ç”Ÿæˆå¹´åº¦æŠ¥å‘Š
- `GET /api/reports` - è·å–æŠ¥å‘Šåˆ—è¡¨
- `GET /api/reports/{id}` - è·å–æŠ¥å‘Šå†…å®¹

### æ•°æ®åˆ†æ
- `GET /api/analysis/time-range` - æ—¶é—´èŒƒå›´åˆ†æ
- `GET /api/analysis/category` - åˆ†ç±»åˆ†æ

### æ•°æ®åŒæ­¥
- `POST /api/sync` - æ•°æ®åŒæ­¥
- `GET /api/sync/records` - è·å–åŒæ­¥è®°å½•

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### 1. ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
- å¯åŠ¨åº”ç”¨åè®¿é—® http://127.0.0.1:5000
- æ³¨å†Œæ–°ç”¨æˆ·æˆ–ä½¿ç”¨æµ‹è¯•è´¦å·ç™»å½•
- ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†ç”¨æˆ·ä¼šè¯

### 2. è®°å½•ç®¡ç†
- åœ¨ä»ªè¡¨æ¿æ·»åŠ æ”¶å…¥/æ”¯å‡ºè®°å½•
- é€‰æ‹©åˆ†ç±»å’Œå¡«å†™æè¿°
- æŸ¥çœ‹å†å²è®°å½•å’Œç»Ÿè®¡æ•°æ®

### 3. æŠ¥å‘Šåˆ†æ
- æŸ¥çœ‹æœˆåº¦/å¹´åº¦è´¢åŠ¡æŠ¥å‘Š
- åˆ†æåˆ†ç±»ç»Ÿè®¡å’Œè¶‹åŠ¿å›¾è¡¨
- äº†è§£æ”¶æ”¯æƒ…å†µ

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **å¯†ç å®‰å…¨**: SHA-256å“ˆå¸ŒåŠ å¯†
- **ä¼šè¯ç®¡ç†**: Flaskä¼šè¯æœºåˆ¶
- **æ•°æ®éªŒè¯**: è¾“å…¥æ•°æ®éªŒè¯å’Œæ¸…ç†
- **APIä¿æŠ¤**: è®¤è¯å’Œæˆæƒæ£€æŸ¥

## ğŸ“ˆ æ‰©å±•åŠŸèƒ½

### å·²å®ç°åŠŸèƒ½
- [x] åŸºç¡€è®°è´¦åŠŸèƒ½
- [x] å¤šç”¨æˆ·æ”¯æŒ
- [x] æ•°æ®åŒæ­¥
- [x] æŠ¥å‘Šç”Ÿæˆ
- [x] å¯è§†åŒ–å›¾è¡¨

### è®¡åˆ’åŠŸèƒ½
- [ ] é¢„ç®—ç®¡ç†
- [ ] è´¦å•æé†’
- [ ] æ•°æ®å¯¼å‡º
- [ ] å¤šå¸ç§æ”¯æŒ
- [ ] æŠ•èµ„è·Ÿè¸ª

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**1. æœåŠ¡å¯åŠ¨å¤±è´¥**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr :5000
netstat -ano | findstr :5001

# æ£€æŸ¥ä¾èµ–
pip list | grep flask
pip list | grep requests
```

**2. æ•°æ®åº“é—®é¢˜**
```bash
# åˆ é™¤æ•°æ®åº“é‡æ–°å¯åŠ¨
rm finance_system.db
python start_system.py
```

**3. åŒæ­¥é—®é¢˜**
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- éªŒè¯åŒæ­¥ä»¤ç‰Œ
- æŸ¥çœ‹åŒæ­¥è®°å½•

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»ºPull Request

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- é¡¹ç›®ä»“åº“: [GitHub Repository]
- é‚®ç®±: [your-email@example.com]

---

**åŒç«¯è®°è´¦ç³»ç»Ÿ** - è®©è´¢åŠ¡ç®¡ç†æ›´ç®€å•ã€æ›´æ™ºèƒ½ï¼
